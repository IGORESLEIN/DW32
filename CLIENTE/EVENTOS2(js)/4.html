<!DOCTYPE html>
<html>
<head>
<style>
.master {height:270px;width:800px;padding:10px;border:2px solid red; 
	 background-color:green;margin:0 auto 0 auto;}
div 	{height:100px;width:500px;padding:10px;border:2px solid red; 	
	 background-color:blue;margin:0 auto 0 auto;}
p	{background-color:orange;text-align:center;}
span	{background-color:purple;border:2px solid red;}

</style>
<script>
    window.onload = function(){
            var elementos = document.body.getElementsByTagName("*");
                for (var i = 0; i < elementos.length; i++){
                    elementos[i].addEventListener("click", amarillo,false);
                    
                }
        } 
        function amarillo(event) {
        
        
        this.style.backgroundColor='yellow';
        
        if (this == event.target){
        {
        
        event.stopPropagation();
        }
        }
}
</script>
</head>
<body>
<div class="master">
<div><p>Soy un parrafo.<span>Soy un span</span></p></div>
</br>
<div><p>Soy un parrafo.<span>Soy un span</span></p></div>
</div>
</body>
</html>